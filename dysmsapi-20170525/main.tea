import Util;
import RPC;
import EndpointUtil;

extends RPC;

init(config: RPC.Config){
  super(config);
  @endpointRule = 'central';
  @endpointMap = {
    ap-northeast-1 = 'dysmsapi.ap-southeast-1.aliyuncs.com',
    ap-northeast-2-pop = 'dysmsapi.ap-southeast-1.aliyuncs.com',
    ap-south-1 = 'dysmsapi.ap-southeast-1.aliyuncs.com',
    ap-southeast-1 = 'dysmsapi.ap-southeast-1.aliyuncs.com',
    ap-southeast-2 = 'dysmsapi.ap-southeast-1.aliyuncs.com',
    ap-southeast-3 = 'dysmsapi.ap-southeast-1.aliyuncs.com',
    ap-southeast-5 = 'dysmsapi.ap-southeast-1.aliyuncs.com',
    cn-beijing = 'dysmsapi-proxy.cn-beijing.aliyuncs.com',
    eu-central-1 = 'dysmsapi.ap-southeast-1.aliyuncs.com',
    eu-west-1 = 'dysmsapi.ap-southeast-1.aliyuncs.com',
    eu-west-1-oxs = 'dysmsapi.ap-southeast-1.aliyuncs.com',
    me-east-1 = 'dysmsapi.ap-southeast-1.aliyuncs.com',
    rus-west-1-pop = 'dysmsapi.ap-southeast-1.aliyuncs.com',
    us-east-1 = 'dysmsapi.ap-southeast-1.aliyuncs.com',
    us-west-1 = 'dysmsapi.ap-southeast-1.aliyuncs.com',
  };

  checkConfig(config);
  @endpoint = getEndpoint('dysmsapi', @regionId, @endpointRule, @network, @suffix, @endpointMap, @endpoint);
}

model QuerySmsTemplateRequest = {
  templateCode: string(name='TemplateCode'),
}

model QuerySmsTemplateResponse = {
  requestId: string(name='RequestId'),
  code: string(name='Code'),
  message: string(name='Message'),
  templateStatus: integer(name='TemplateStatus'),
  reason: string(name='Reason'),
  templateCode: string(name='TemplateCode'),
  templateType: integer(name='TemplateType'),
  templateName: string(name='TemplateName'),
  templateContent: string(name='TemplateContent'),
  createDate: string(name='CreateDate'),
}

async function querySmsTemplateWithOptions(request: QuerySmsTemplateRequest, runtime: Util.RuntimeOptions): QuerySmsTemplateResponse {
  Util.validateModel(request);
  return doRequest('QuerySmsTemplate', 'HTTPS', 'POST', '2017-05-25', 'AK', null, request, runtime);
}

async function querySmsTemplate(request: QuerySmsTemplateRequest): QuerySmsTemplateResponse {
  var runtime = new Util.RuntimeOptions{};
  return querySmsTemplateWithOptions(request, runtime);
}

model QuerySmsSignRequest = {
  signName: string(name='SignName'),
}

model QuerySmsSignResponse = {
  requestId: string(name='RequestId'),
  code: string(name='Code'),
  message: string(name='Message'),
  signStatus: integer(name='SignStatus'),
  reason: string(name='Reason'),
  signName: string(name='SignName'),
  createDate: string(name='CreateDate'),
}

async function querySmsSignWithOptions(request: QuerySmsSignRequest, runtime: Util.RuntimeOptions): QuerySmsSignResponse {
  Util.validateModel(request);
  return doRequest('QuerySmsSign', 'HTTPS', 'POST', '2017-05-25', 'AK', null, request, runtime);
}

async function querySmsSign(request: QuerySmsSignRequest): QuerySmsSignResponse {
  var runtime = new Util.RuntimeOptions{};
  return querySmsSignWithOptions(request, runtime);
}

model ModifySmsTemplateRequest = {
  templateType: integer(name='TemplateType'),
  templateName: string(name='TemplateName'),
  templateCode: string(name='TemplateCode'),
  templateContent: string(name='TemplateContent'),
  remark: string(name='Remark'),
}

model ModifySmsTemplateResponse = {
  requestId: string(name='RequestId'),
  templateCode: string(name='TemplateCode'),
  code: string(name='Code'),
  message: string(name='Message'),
}

async function modifySmsTemplateWithOptions(request: ModifySmsTemplateRequest, runtime: Util.RuntimeOptions): ModifySmsTemplateResponse {
  Util.validateModel(request);
  return doRequest('ModifySmsTemplate', 'HTTPS', 'POST', '2017-05-25', 'AK', null, request, runtime);
}

async function modifySmsTemplate(request: ModifySmsTemplateRequest): ModifySmsTemplateResponse {
  var runtime = new Util.RuntimeOptions{};
  return modifySmsTemplateWithOptions(request, runtime);
}

model ModifySmsSignRequest = {
  signName: string(name='SignName'),
  signSource: integer(name='SignSource'),
  signFileList: [
    {
      fileSuffix: string(name='FileSuffix'),
      fileContents: string(name='FileContents'),
    }
  ](name='SignFileList'),
  remark: string(name='Remark'),
}

model ModifySmsSignResponse = {
  requestId: string(name='RequestId'),
  signName: string(name='SignName'),
  code: string(name='Code'),
  message: string(name='Message'),
}

async function modifySmsSignWithOptions(request: ModifySmsSignRequest, runtime: Util.RuntimeOptions): ModifySmsSignResponse {
  Util.validateModel(request);
  return doRequest('ModifySmsSign', 'HTTPS', 'POST', '2017-05-25', 'AK', null, request, runtime);
}

async function modifySmsSign(request: ModifySmsSignRequest): ModifySmsSignResponse {
  var runtime = new Util.RuntimeOptions{};
  return modifySmsSignWithOptions(request, runtime);
}

model DeleteSmsTemplateRequest = {
  templateCode: string(name='TemplateCode'),
}

model DeleteSmsTemplateResponse = {
  requestId: string(name='RequestId'),
  templateCode: string(name='TemplateCode'),
  code: string(name='Code'),
  message: string(name='Message'),
}

async function deleteSmsTemplateWithOptions(request: DeleteSmsTemplateRequest, runtime: Util.RuntimeOptions): DeleteSmsTemplateResponse {
  Util.validateModel(request);
  return doRequest('DeleteSmsTemplate', 'HTTPS', 'POST', '2017-05-25', 'AK', null, request, runtime);
}

async function deleteSmsTemplate(request: DeleteSmsTemplateRequest): DeleteSmsTemplateResponse {
  var runtime = new Util.RuntimeOptions{};
  return deleteSmsTemplateWithOptions(request, runtime);
}

model DeleteSmsSignRequest = {
  signName: string(name='SignName'),
}

model DeleteSmsSignResponse = {
  requestId: string(name='RequestId'),
  signName: string(name='SignName'),
  code: string(name='Code'),
  message: string(name='Message'),
}

async function deleteSmsSignWithOptions(request: DeleteSmsSignRequest, runtime: Util.RuntimeOptions): DeleteSmsSignResponse {
  Util.validateModel(request);
  return doRequest('DeleteSmsSign', 'HTTPS', 'POST', '2017-05-25', 'AK', null, request, runtime);
}

async function deleteSmsSign(request: DeleteSmsSignRequest): DeleteSmsSignResponse {
  var runtime = new Util.RuntimeOptions{};
  return deleteSmsSignWithOptions(request, runtime);
}

model AddSmsTemplateRequest = {
  templateType: integer(name='TemplateType'),
  templateName: string(name='TemplateName'),
  templateContent: string(name='TemplateContent'),
  remark: string(name='Remark'),
}

model AddSmsTemplateResponse = {
  requestId: string(name='RequestId'),
  templateCode: string(name='TemplateCode'),
  code: string(name='Code'),
  message: string(name='Message'),
}

async function addSmsTemplateWithOptions(request: AddSmsTemplateRequest, runtime: Util.RuntimeOptions): AddSmsTemplateResponse {
  Util.validateModel(request);
  return doRequest('AddSmsTemplate', 'HTTPS', 'POST', '2017-05-25', 'AK', null, request, runtime);
}

async function addSmsTemplate(request: AddSmsTemplateRequest): AddSmsTemplateResponse {
  var runtime = new Util.RuntimeOptions{};
  return addSmsTemplateWithOptions(request, runtime);
}

model AddSmsSignRequest = {
  signName: string(name='SignName'),
  signSource: integer(name='SignSource'),
  signFileList: [
    {
      fileSuffix: string(name='FileSuffix'),
      fileContents: string(name='FileContents'),
    }
  ](name='SignFileList'),
  remark: string(name='Remark'),
}

model AddSmsSignResponse = {
  requestId: string(name='RequestId'),
  signName: string(name='SignName'),
  code: string(name='Code'),
  message: string(name='Message'),
}

async function addSmsSignWithOptions(request: AddSmsSignRequest, runtime: Util.RuntimeOptions): AddSmsSignResponse {
  Util.validateModel(request);
  return doRequest('AddSmsSign', 'HTTPS', 'POST', '2017-05-25', 'AK', null, request, runtime);
}

async function addSmsSign(request: AddSmsSignRequest): AddSmsSignResponse {
  var runtime = new Util.RuntimeOptions{};
  return addSmsSignWithOptions(request, runtime);
}

model SendBatchSmsRequest = {
  phoneNumberJson: string(name='PhoneNumberJson'),
  signNameJson: string(name='SignNameJson'),
  templateCode: string(name='TemplateCode'),
  templateParamJson?: string(name='TemplateParamJson'),
  smsUpExtendCodeJson?: string(name='SmsUpExtendCodeJson'),
}

model SendBatchSmsResponse = {
  requestId: string(name='RequestId'),
  bizId: string(name='BizId'),
  code: string(name='Code'),
  message: string(name='Message'),
}

async function sendBatchSmsWithOptions(request: SendBatchSmsRequest, runtime: Util.RuntimeOptions): SendBatchSmsResponse {
  Util.validateModel(request);
  return doRequest('SendBatchSms', 'HTTPS', 'POST', '2017-05-25', 'AK', null, request, runtime);
}

async function sendBatchSms(request: SendBatchSmsRequest): SendBatchSmsResponse {
  var runtime = new Util.RuntimeOptions{};
  return sendBatchSmsWithOptions(request, runtime);
}

model SendSmsRequest = {
  phoneNumbers: string(name='PhoneNumbers'),
  signName: string(name='SignName'),
  templateCode: string(name='TemplateCode'),
  templateParam?: string(name='TemplateParam'),
  smsUpExtendCode?: string(name='SmsUpExtendCode'),
  outId?: string(name='OutId'),
}

model SendSmsResponse = {
  requestId: string(name='RequestId'),
  bizId: string(name='BizId'),
  code: string(name='Code'),
  message: string(name='Message'),
}

async function sendSmsWithOptions(request: SendSmsRequest, runtime: Util.RuntimeOptions): SendSmsResponse {
  Util.validateModel(request);
  return doRequest('SendSms', 'HTTPS', 'POST', '2017-05-25', 'AK', null, request, runtime);
}

async function sendSms(request: SendSmsRequest): SendSmsResponse {
  var runtime = new Util.RuntimeOptions{};
  return sendSmsWithOptions(request, runtime);
}

model QuerySendDetailsRequest = {
  phoneNumber: string(name='PhoneNumber'),
  bizId?: string(name='BizId'),
  sendDate: string(name='SendDate'),
  pageSize: long(name='PageSize'),
  currentPage: long(name='CurrentPage'),
}

model QuerySendDetailsResponse = {
  requestId: string(name='RequestId'),
  code: string(name='Code'),
  message: string(name='Message'),
  totalCount: string(name='TotalCount'),
  smsSendDetailDTOs: {
    smsSendDetailDTO: [
      {
        phoneNum: string(name='PhoneNum'),
        sendStatus: long(name='SendStatus'),
        errCode: string(name='ErrCode'),
        templateCode: string(name='TemplateCode'),
        content: string(name='Content'),
        sendDate: string(name='SendDate'),
        receiveDate: string(name='ReceiveDate'),
        outId: string(name='OutId'),
      }
    ](name='SmsSendDetailDTO'),
  }(name='SmsSendDetailDTOs'),
}

async function querySendDetailsWithOptions(request: QuerySendDetailsRequest, runtime: Util.RuntimeOptions): QuerySendDetailsResponse {
  Util.validateModel(request);
  return doRequest('QuerySendDetails', 'HTTPS', 'POST', '2017-05-25', 'AK', null, request, runtime);
}

async function querySendDetails(request: QuerySendDetailsRequest): QuerySendDetailsResponse {
  var runtime = new Util.RuntimeOptions{};
  return querySendDetailsWithOptions(request, runtime);
}

function getEndpoint(productId: string, regionId: string, endpointRule: string, network: string, suffix: string, endpointMap: map[string]string, endpoint: string) throws: string{
  if (!Util.empty(endpoint)) {
    return endpoint;
  }

  if (!Util.isUnset(endpointMap) && !Util.empty(endpointMap[regionId])) {
    return endpointMap[regionId];
  }
  return EndpointUtil.getEndpointRules(productId, regionId, endpointRule, network, suffix);
}
